/* Riot v2.6.9, @license MIT */
!function(D,w){"use strict";var z={version:"v2.6.9",settings:{}},_=0,C=[],S={},O="__global_mixin",E="riot-",N=E+"tag",j="data-is",L="string",M="object",T="undefined",r="function",o="http://www.w3.org/1999/xlink",i=/^xlink:(\w+)/,t=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,R=/^(?:_(?:item|id|parent)|update|root|(?:un)?mount|mixin|is(?:Mounted|Loop)|tags|parent|opts|trigger|o(?:n|ff|ne))$/,d=["altGlyph","animate","animateColor","circle","clipPath","defs","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","filter","font","foreignObject","g","glyph","glyphRef","image","line","linearGradient","marker","mask","missing-glyph","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","switch","symbol","text","textPath","tref","tspan","use"],A=0|(D&&D.document||{}).documentMode,I=D&&!!D.InstallTrigger;z.observable=function(a){a=a||{};var u={},s=Array.prototype.slice;function r(e,t){for(var n=e.split(" "),r=n.length,o=0;o<r;o++){var i=n[o];i&&t(i,o)}}return Object.defineProperties(a,{on:{value:function(e,n){return"function"!=typeof n||r(e,function(e,t){(u[e]=u[e]||[]).push(n),n.typed=0<t}),a},enumerable:!1,writable:!1,configurable:!1},off:{value:function(e,i){return"*"!=e||i?r(e,function(e,t){if(i)for(var n,r=u[e],o=0;n=r&&r[o];++o)n==i&&r.splice(o--,1);else delete u[e]}):u={},a},enumerable:!1,writable:!1,configurable:!1},one:{value:function(t,n){return a.on(t,function e(){a.off(t,e),n.apply(a,arguments)})},enumerable:!1,writable:!1,configurable:!1},trigger:{value:function(e){for(var o,t=arguments.length-1,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n+1];return r(e,function(e,t){o=s.call(u[e]||[],0);for(var n,r=0;n=o[r];++r)n.busy||(n.busy=1,n.apply(a,n.typed?[e].concat(i):i),o[r]!==n&&r--,n.busy=0);u["*"]&&"*"!=e&&a.trigger.apply(a,["*",e].concat(i))}),a},enumerable:!1,writable:!1,configurable:!1}}),a},function(e){var o,r,i,a,u,n=/^.+?\/\/+[^\/]+/,t="EventListener",s="remove"+t,c="add"+t,f="hasAttribute",l="replace",p="popstate",d="hashchange",g="trigger",m=3,h=void 0!==D&&D,v="undefined"!=typeof document&&document,x=h&&history,b=h&&(x.location||h.location),y=M.prototype,w=v&&v.ontouchstart?"touchstart":"click",_=!1,C=e.observable(),O=!1,S=[],E=0;function N(e){return e.split(/[/?#]/)}function j(e,t){var n=new RegExp("^"+t[l](/\*/g,"([^/?#]+?)")[l](/\.\./,".*")+"$"),r=e.match(n);if(r)return r.slice(1)}function L(e){var t,n,r;t=$,n=1,o=function(){clearTimeout(r),r=setTimeout(t,n)},h[c](p,o),h[c](d,o),v[c](w,k),e&&$(!0)}function M(){this.$=[],e.observable(this),C.on("stop",this.s.bind(this)),C.on("emit",this.e.bind(this))}function T(e){return e[l](/^\/|\/$/,"")}function R(e){return"string"==typeof e}function A(e){return(e||b.href)[l](n,"")}function I(e){return"#"==r[0]?(e||b.href||"").split(r)[1]||"":(b?A(e):e||"")[l](r,"")}function $(t){var e,n=0==E;if(!(m<=E)&&(E++,S.push(function(){var e=I();(t||e!=i)&&(C[g]("emit",e),i=e)}),n)){for(;e=S.shift();)e();E=0}}function k(e){if(!(1!=e.which||e.metaKey||e.ctrlKey||e.shiftKey||e.defaultPrevented)){for(var t=e.target;t&&"A"!=t.nodeName;)t=t.parentNode;!t||"A"!=t.nodeName||t[f]("download")||!t[f]("href")||t.target&&"_self"!=t.target||-1==t.href.indexOf(b.href.match(n)[0])||t.href!=b.href&&(t.href.split("#")[0]==b.href.split("#")[0]||"#"!=r[0]&&0!==A(t.href).indexOf(r)||"#"==r[0]&&t.href.split(r)[0]!=b.href.split(r)[0]||!F(I(t.href),t.title||v.title))||e.preventDefault()}}function F(e,t,n){return x?(e=r+T(e),t=t||v.title,n?x.replaceState(null,t,e):x.pushState(null,t,e),v.title=t,O=!1,$(),O):C[g]("emit",I(e))}y.m=function(e,t,n){!R(e)||t&&!R(t)?t?this.r(e,t):this.r("@",e):F(e,t,n||!1)},y.s=function(){this.off("*"),this.$=[]},y.e=function(n){this.$.concat("@").some(function(e){var t=("@"==e?a:u)(T(n),T(e));if(void 0!==t)return this[g].apply(null,[e].concat(t)),O=!0},this)},y.r=function(e,t){"@"!=e&&(e="/"+T(e),this.$.push(e)),this.on(e,t)};var P=new M,H=P.m.bind(P);H.create=function(){var e=new M,t=e.m.bind(e);return t.stop=e.s.bind(e),t},H.base=function(e){r=e||"#",i=I()},H.exec=function(){$(!0)},H.parser=function(e,t){e||t||(a=N,u=j),e&&(a=e),t&&(u=t)},H.query=function(){var r={};return(b.href||i)[l](/[?&](.+?)=([^&]*)/g,function(e,t,n){r[t]=n}),r},H.stop=function(){_&&(h&&(h[s](p,o),h[s](d,o),v[s](w,k)),C[g]("stop"),_=!1)},H.start=function(e){_||(h&&("complete"==document.readyState?L(e):h[c]("load",function(){setTimeout(function(){L(e)},1)})),_=!0)},H.base(),H.parser(),e.route=H}(z);var K=function(e){var t,n,r="g",o=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'/g,i=o.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?(\/)[gim]*/.source,a=RegExp("[\\x00-\\x1F<>a-zA-Z0-9'\",;\\\\]"),u=/(?=[[\]()*+?.^$|])/g,l={"(":RegExp("([()])|"+i,r),"[":RegExp("([[\\]])|"+i,r),"{":RegExp("([{}])|"+i,r)},s="{ }",c=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+i,r),s,/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/],f=void 0,p=[];function d(e){return e}function g(e,t){return t||(t=p),new RegExp(e.source.replace(/{/g,t[2]).replace(/}/g,t[3]),e.global?r:"")}function m(e){if(e===s)return c;var t=e.split(" ");if(2!==t.length||a.test(e))throw new Error('Unsupported brackets "'+e+'"');return(t=t.concat(e.replace(u,"\\").split(" ")))[4]=g(1<t[1].length?/{[\S\s]*?}/:c[4],t),t[5]=g(3<e.length?/\\({|})/g:c[5],t),t[6]=g(c[6],t),t[7]=RegExp("\\\\("+t[3]+")|([[({])|("+t[3]+")|"+i,r),t[8]=e,t}function h(e){return e instanceof RegExp?t(e):p[e]}function v(e){(e||(e=s))!==p[8]&&(p=m(e),t=e===s?d:g,p[9]=t(c[9])),f=e}return h.split=function(e,t,n){n||(n=p);var r,o,i,a,u=[],s=n[6];for(o=i=s.lastIndex=0;r=s.exec(e);){if(a=r.index,o){if(r[2]){s.lastIndex=f(e,r[2],s.lastIndex);continue}if(!r[3])continue}r[1]||(c(e.slice(i,a)),i=s.lastIndex,(s=n[6+(o^=1)]).lastIndex=i)}return e&&i<e.length&&c(e.slice(i)),u;function c(e){t||o?u.push(e&&e.replace(n[5],"$1")):u.push(e)}function f(e,t,n){var r,o=l[t];for(o.lastIndex=n,n=1;(r=o.exec(e))&&(!r[1]||(r[1]===t?++n:--n)););return n?e.length:o.lastIndex}},h.hasExpr=function(e){return p[4].test(e)},h.loopKeys=function(e){var t=e.match(p[9]);return t?{key:t[1],pos:t[2],val:p[0]+t[3].trim()+p[1]}:{val:e.trim()}},h.array=function(e){return e?m(e):p},Object.defineProperty(h,"settings",{set:function(e){var t;t=(e=e||{}).brackets,Object.defineProperty(e,"brackets",{set:v,get:function(){return f},enumerable:!0}),n=e,v(t)},get:function(){return n}}),h.settings=void 0!==z&&z.settings||{},h.set=v,h.R_STRINGS=o,h.R_MLCOMMS=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,h.S_QBLOCKS=i,h}(),$=function(){var n={};function r(e,t){return e?(n[e]||(n[e]=function(e){var t=function(e){var t,n=[],r=K.split(e.replace(u,'"'),1);if(2<r.length||r[0]){var o,i,a=[];for(o=i=0;o<r.length;++o)(t=r[o])&&(t=1&o?c(t,1,n):'"'+t.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"')&&(a[i++]=t);t=i<2?a[0]:"["+a.join(",")+'].join("")'}else t=c(r[1],0,n);n[0]&&(t=t.replace(s,function(e,t){return n[t].replace(/\r/g,"\\r").replace(/\n/g,"\\n")}));return t}(e);"try{return "!==t.slice(0,11)&&(t="return "+t);return new Function("E",t+";")}(e))).call(t,o):e}function o(e,t){r.errorHandler&&(e.riotData={tagName:t&&t.root&&t.root.tagName,_riot_id:t&&t._riot_id},r.errorHandler(e))}r.haveRaw=K.hasRaw,r.hasExpr=K.hasExpr,r.loopKeys=K.loopKeys,r.clearCache=function(){n={}},r.errorHandler=null;var f=String.fromCharCode(8279),l=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/,p=RegExp(K.S_QBLOCKS,"g"),u=/\u2057/g,s=/\u2057(\d+)~/g;var d={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g};function c(i,e,n){if(i=i.replace(p,function(e,t){return 2<e.length&&!t?f+(n.push(e)-1)+"~":e}).replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1")){for(var t,r=[],o=0;i&&(t=i.match(l))&&!t.index;){var a,u,s=/,|([[{(])|$/g;for(i=RegExp.rightContext,a=t[2]?n[t[2]].slice(1,-1).trim().replace(/\s+/g," "):t[1];u=(t=s.exec(i))[1];)c(u,s);u=i.slice(0,t.index),i=RegExp.rightContext,r[o++]=h(u,1,a)}i=o?1<o?"["+r.join(",")+'].join(" ").trim()':r[0]:h(i,e)}return i;function c(e,t){var n,r=1,o=d[e];for(o.lastIndex=t.lastIndex;n=o.exec(i);)if(n[0]===e)++r;else if(!--r)break;t.lastIndex=r?i.length:o.lastIndex}}var a='"in this?this:'+("object"!=typeof D?"global":"window")+").",g=/[,{][\$\w]+(?=:)|(^ *|[^$\w\.{])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,m=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;function h(e,t,n){var i;return e=e.replace(g,function(e,t,n,r,o){return n&&(r=i?0:r+e.length,"this"!==n&&"global"!==n&&"window"!==n?(e=t+'("'+n+a+n,r&&(i="."===(o=o[r])||"("===o||"["===o)):r&&(i=!m.test(o.slice(r)))),e}),i&&(e="try{return "+e+"}catch(e){E(e,this)}"),n?e=(i?"function(){"+e+"}.call(this)":"("+e+")")+'?"'+n+'":""':t&&(e="function(v){"+(i?e.replace("return ","v="):"v=("+e+")")+';return v||v===0?v:""}.call(this)'),e}return r.version=K.version="v2.4.2",r}(),k=function(){var u=/<yield\b/i,s=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>|>)/gi,c=/<yield\s+to=['"]([^'">]*)['"]\s*>([\S\s]*?)<\/yield\s*>/gi,f=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/gi,l={tr:"tbody",th:"tr",td:"tr",col:"colgroup"},p=A&&A<10?t:/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/;function e(e,t,n){var r,o=e&&e.match(/^\s*<([-\w]+)/),i=o&&o[1].toLowerCase(),a=pe("div",n&&(r=i,~d.indexOf(r)));return e=function(e,n){if(!u.test(e))return e;var r={};return n=n&&n.replace(c,function(e,t,n){return r[t]=r[t]||n,""}).trim(),e.replace(f,function(e,t,n){return r[t]||n||""}).replace(s,function(e,t){return n||t||""})}(e,t),p.test(i)?a=function(e,t,n){var r="o"===n[0],o=r?"select>":"table>";if(e.innerHTML="<"+o+t.trim()+"</"+o,o=e.firstChild,r)o.selectedIndex=-1;else{var i=l[n];i&&1===o.childElementCount&&(o=m(i,o))}return o}(a,e,i):function(e,t){if(typeof e.innerHTML!=T)e.innerHTML=t;else{var n=(new DOMParser).parseFromString(t,"application/xml");e.appendChild(e.ownerDocument.importNode(n.documentElement,!0))}}(a,e),a.stub=!0,a}return e}();function F(e,t,n){var r={};return r[e.key]=t,e.pos&&(r[e.pos]=n),r}function P(n,r){Object.keys(n.tags).forEach(function(t){var e=n.tags[t];ue(e)?Q(e,function(e){f(e,t,r)}):f(e,t,r)})}function H(e,t,n){var r,o=e._root;for(e._virts=[];o;)r=o.nextSibling,n?t.insertBefore(o,n._root):t.appendChild(o),e._virts.push(o),o=r}function q(e,t,n,r){for(var o,i=e._root,a=0;a<r;a++)o=i.nextSibling,t.insertBefore(i,n._root),i=o}function B(e,t,n,r,o,i,a){le(t.root)||(e?i(t,r,n,a.childNodes.length):r.insertBefore(t.root,n.root))}function a(f,l,p){J(f,"each");var d,g=typeof ee(f,"no-reorder")!==L||J(f,"no-reorder"),m=oe(f),h=S[m]||{tmpl:function(e){{if(e.outerHTML)return e.outerHTML;var t=pe("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML}}(f)},v=t.test(m),x=f.parentNode,b=document.createTextNode(""),y=s(f),w="option"===m.toLowerCase(),_=[],C=[],O="VIRTUAL"==f.tagName;p=$.loopKeys(p),x.insertBefore(b,f),l.one("before-mount",function(){f.parentNode.removeChild(f),x.stub&&(x=l.root)}).on("update",function(){var t=$(p.val,l),e=document.createDocumentFragment();ue(t)||(t=(d=t||!1)?Object.keys(t).map(function(e){return F(p,e,t[e])}):[]);for(var n=0,r=t.length;n<r;n++){var o=t[n],i=g&&typeof o==M&&!d,a=C.indexOf(o),u=~a&&i?a:n,s=_[u];o=!d&&p.key?F(p,o,n):o,!i&&!s||i&&!~a||!s?((s=new U(h,{parent:l,isLoop:!0,hasImpl:!!S[m],root:v?x:f.cloneNode(),item:o},f.innerHTML)).mount(),O&&(s._root=s.root.firstChild),n!=_.length&&_[n]?(B(O,s,_[n],x,0,H,f),C.splice(n,0,o)):O?H(s,e):e.appendChild(s.root),_.splice(n,0,s),u=n):s.update(o,!0),u!==n&&i&&_[n]&&(ae(t,C[n])&&B(O,s,_[n],x,0,q,f),p.pos&&(s[p.pos]=n),_.splice(n,0,_.splice(u,1)[0]),C.splice(n,0,C.splice(u,1)[0]),!y&&s.tags&&P(s,n)),s._item=o,re(s,"_parent",l)}if(function(e,t){for(var n,r=t.length,o=e.length;o<r;)n=t[--r],t.splice(r,1),n.unmount()}(t,_),x.insertBefore(e,b),w&&I&&!x.multiple)for(var c=0;c<x.length;c++)if(x[c].__riot1374){x.selectedIndex=c,delete x[c].__riot1374;break}y&&(l.tags[m]=_),C=t.slice()})}var u=function(e){if(!D)return{add:function(){},inject:function(){}};var t=function(){var e=pe("style");te(e,"type","text/css");var t=m("style[type=riot]");return t?(t.id&&(e.id=t.id),t.parentNode.replaceChild(e,t)):document.getElementsByTagName("head")[0].appendChild(e),e}(),n=t.styleSheet,r="";return Object.defineProperty(e,"styleNode",{value:t,writable:!0}),{add:function(e){r+=e},inject:function(){r&&(n?n.cssText+=r:t.innerHTML+=r,r="")}}}(z);function Z(e,n,r,o){fe(e,function(e){if(1==e.nodeType){if(e.isLoop=e.isLoop||e.parentNode&&e.parentNode.isLoop||ee(e,"each")?1:0,r){var t=s(e);t&&!e.isLoop&&r.push(function(e,t,n,r){var o=new U(e,t,n),i=oe(t.root),a=ne(r);o.parent=a,o._parent=r,c(o,i,a),a!==r&&c(o,i,r);return t.root.innerHTML="",o}(t,{root:e,parent:n},e.innerHTML,n))}e.isLoop&&!o||function(t,n,r){var o,i=l(t),e=function(e){ae(r,i)||(o=ue(e),e?(!o||o&&!ae(e,t))&&(o?e.push(t):n[i]=[e,t]):n[i]=t)};if(!i)return;$.hasExpr(i)?n.one("mount",function(){i=l(t),e(n[i])}):e(n[i])}(e,n,[])}})}function G(e,n,r){function o(e,t,n){$.hasExpr(t)&&r.push(ie({dom:e,expr:t},n))}fe(e,function(r){var e,t=r.nodeType;if(3==t&&"STYLE"!=r.parentNode.tagName&&o(r,r.nodeValue),1==t)return(e=ee(r,"each"))?(a(r,n,e),!1):(Q(r.attributes,function(e){var t=e.name,n=t.split("__")[1];if(o(r,e.value,{attr:n||t,bool:n}),n)return J(r,t),!1}),!s(r)&&void 0)})}function U(n,e,t){var r,o,i=z.observable(this),a=(o=e.opts,Object.create(o||null)||{}),u=e.parent,s=e.isLoop,c=e.hasImpl,f=ce(e.item),l=[],p=[],d=e.root,g=d.tagName.toLowerCase(),m={},h=[];function v(){var n=c&&s?i:u||i;Q(d.attributes,function(e){if(!(e.name in m)){var t=e.value;a[Y(e.name)]=$.hasExpr(t)?$(t,n):t}}),Q(Object.keys(m),function(e){a[Y(e)]=$(m[e],n)})}function x(n){Q(Object.keys(n),function(e){var t=!R.test(e)&&ae(h,e);(typeof i[e]===T||t)&&(t||h.push(e),i[e]=n[e])})}function b(e){i.update(e,!0)}function y(t){if(Q(p,function(e){e[t?"mount":"unmount"]()}),u){var e=t?"on":"off";s?u[e]("unmount",i.unmount):u[e]("update",b)[e]("unmount",i.unmount)}}n.name&&d._tag&&d._tag.unmount(!0),this.isMounted=!1,d.isLoop=s,re(d._tag=this,"_riot_id",++_),ie(this,{parent:u,root:d,opts:a},f),re(this,"tags",{}),Q(d.attributes,function(e){var t=e.value;$.hasExpr(t)&&(m[e.name]=t)}),r=k(n.tmpl,t,s),re(this,"update",function(e,t){var p;return e=ce(e),s&&x(i.parent),e&&X(f)&&(!function(e){for(var t in f)typeof i[t]!==T&&se(i,t)&&(i[t]=e[t])}(e),f=e),ie(i,e),v(),i.trigger("update",e),p=i,Q(l,function(e,t){var n=e.dom,r=e.attr,o=$(e.expr,p),i=e.parent||e.dom.parentNode;if(e.bool?o=!!o:null==o&&(o=""),e.value!==o){if(e.value=o,!r)return o+="",void(i&&("TEXTAREA"===(e.parent=i).tagName?(i.value=o,A||(n.nodeValue=o)):n.nodeValue=o));var a,u,s,c;if("value"!==r)if(J(n,r),W(o))u=o,c=p,(s=n)[r]=function(e){var t=c._parent,n=c._item;if(!n)for(;t&&!n;)n=t._item,t=t._parent;se(e=e||D.event,"currentTarget")&&(e.currentTarget=s),se(e,"target")&&(e.target=e.srcElement),se(e,"which")&&(e.which=e.charCode||e.keyCode),e.item=n,!0===u.call(c,e)||/radio|check/.test(s.type)||(e.preventDefault&&e.preventDefault(),e.returnValue=!1),e.preventUpdate||(n?ne(t):c).update()};else if("if"==r){var f=e.stub,l=function(){V(n.parentNode,n,f)};o?f&&(V(f.parentNode,f,n),n.inStub=!1,le(n)||fe(n,function(e){e._tag&&!e._tag.isMounted&&(e._tag.isMounted=!!e._tag.trigger("mount"))})):(f=e.stub=f||document.createTextNode(""),n.parentNode?l():(p.parent||p).one("updated",l),n.inStub=!0)}else"show"===r?n.style.display=o?"":"none":"hide"===r?n.style.display=o?"none":"":e.bool?((n[r]=o)&&te(n,r,r),I&&"selected"===r&&"OPTION"===n.tagName&&(n.__riot1374=o)):(0===o||o&&typeof o!==M)&&(a=E,r.slice(0,a.length)===a&&r!=N&&(r=r.slice(E.length)),te(n,r,o));else n.value!==o&&(n.value=o,te(n,r,o))}}),t&&i.parent?i.parent.one("updated",function(){i.trigger("updated")}):de(function(){i.trigger("updated")}),this}),re(this,"mixin",function(){return Q(arguments,function(e){var r,t,n=[];e=typeof e===L?z.mixin(e):e,r=W(e)?new e:e;for(var o=Object.getPrototypeOf(r);n=n.concat(Object.getOwnPropertyNames(t||r)),t=Object.getPrototypeOf(t||r););Q(n,function(e){if("init"!=e&&"__proto__"!=e){var t=Object.getOwnPropertyDescriptor(r,e)||Object.getOwnPropertyDescriptor(o,e),n=t&&(t.get||t.set);!i.hasOwnProperty(e)&&n?Object.defineProperty(i,e,t):i[e]=W(r[e])?r[e].bind(i):r[e]}}),r.init&&r.init.bind(i)()}),this}),re(this,"mount",function(){v();var e=z.mixin(O);if(e)for(var t in e)e.hasOwnProperty(t)&&i.mixin(e[t]);if(i._parent&&i._parent.root.isLoop&&x(i._parent),n.fn&&n.fn.call(i,a),G(r,i,l),y(!0),n.attrs&&function(e,t){var n,r=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g;for(;n=r.exec(e);)t(n[1].toLowerCase(),n[2]||n[3]||n[4])}(n.attrs,function(e,t){te(d,e,t)}),(n.attrs||c)&&G(i.root,i,l),i.parent&&!s||i.update(f),i.trigger("before-mount"),s&&!c)d=r.firstChild;else{for(;r.firstChild;)d.appendChild(r.firstChild);d.stub&&(d=u.root)}re(i,"root",d),s&&Z(i.root,i.parent,null,!0),!i.parent||i.parent.isMounted?(i.isMounted=!0,i.trigger("mount")):i.parent.one("mount",function(){le(i.root)||(i.parent.isMounted=i.isMounted=!0,i.trigger("mount"))})}),re(this,"unmount",function(e){var n,t=d,r=t.parentNode,o=C.indexOf(i);if(i.trigger("before-unmount"),~o&&C.splice(o,1),r){if(u)ue((n=ne(u)).tags[g])?Q(n.tags[g],function(e,t){e._riot_id==i._riot_id&&n.tags[g].splice(t,1)}):n.tags[g]=w;else for(;t.firstChild;)t.removeChild(t.firstChild);e?(J(r,j),J(r,N)):r.removeChild(t)}this._virts&&Q(this._virts,function(e){e.parentNode&&e.parentNode.removeChild(e)}),i.trigger("unmount"),y(),i.off("*"),i.isMounted=!1,delete d._tag}),Z(r,this,p)}function V(e,t,n){e&&(e.insertBefore(n,t),e.removeChild(t))}function Q(e,t){for(var n,r=e?e.length:0,o=0;o<r;o++)null!=(n=e[o])&&!1===t(n,o)&&o--;return e}function W(e){return typeof e===r||!1}function X(e){return e&&typeof e===M}function J(e,t){e.removeAttribute(t)}function Y(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})}function ee(e,t){return e.getAttribute(t)}function te(e,t,n){var r=i.exec(t);r&&r[1]?e.setAttributeNS(o,r[1],n):e.setAttribute(t,n)}function s(e){return e.tagName&&S[ee(e,j)||ee(e,N)||e.tagName.toLowerCase()]}function c(e,t,n){var r=n.tags[t];r?(ue(r)||r!==e&&(n.tags[t]=[r]),ae(n.tags[t],e)||n.tags[t].push(e)):n.tags[t]=e}function f(e,t,n){var r,o=e.parent;o&&(ue(r=o.tags[t])?r.splice(n,0,r.splice(r.indexOf(e),1)[0]):c(e,t,o))}function ne(e){for(var t=e;!s(t.root)&&t.parent;)t=t.parent;return t}function re(e,t,n,r){return Object.defineProperty(e,t,ie({value:n,enumerable:!1,writable:!1,configurable:!0},r)),e}function oe(e){var t=s(e),n=ee(e,"name");return n&&!$.hasExpr(n)?n:t?t.name:e.tagName.toLowerCase()}function ie(e){for(var t,n=arguments,r=1;r<n.length;++r)if(t=n[r])for(var o in t)se(e,o)&&(e[o]=t[o]);return e}function ae(e,t){return~e.indexOf(t)}function ue(e){return Array.isArray(e)||e instanceof Array}function se(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return typeof e[t]===T||n&&n.writable}function ce(e){if(!(e instanceof U||e&&typeof e.trigger==r))return e;var t={};for(var n in e)R.test(n)||(t[n]=e[n]);return t}function fe(e,t){if(e){if(!1===t(e))return;for(e=e.firstChild;e;)fe(e,t),e=e.nextSibling}}function le(e){for(;e;){if(e.inStub)return!0;e=e.parentNode}return!1}function pe(e,t){return t?document.createElementNS("http://www.w3.org/2000/svg","svg"):document.createElement(e)}function g(e,t){return(t||document).querySelectorAll(e)}function m(e,t){return(t||document).querySelector(e)}function l(e){return ee(e,"id")||ee(e,"name")}var p,h,v,de=function(e){var t=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame;if(!t||/iP(ad|hone|od).*OS 6/.test(e.navigator.userAgent)){var r=0;t=function(e){var t=Date.now(),n=Math.max(16-(t-r),0);setTimeout(function(){e(r=t+n)},n)}}return t}(D||{});function ge(e){var t=e.source,n=e.global?"g":"";e.ignoreCase&&(n+="i"),e.multiline&&(n+="m");for(var r=1;r<arguments.length;r++)t=t.replace("@","\\"+arguments[r]);return new RegExp(t,n)}z.util={brackets:K,tmpl:$},z.mixin=(h=(p={})[O]={},v=0,function(e,t,n){if(X(e))z.mixin("__unnamed_"+v++,e,!0);else{var r=n?h:p;if(!t){if(typeof r[e]===T)throw new Error("Unregistered mixin: "+e);return r[e]}W(t)?(ie(t.prototype,r[e]||{}),r[e]=t):r[e]=ie(r[e]||{},t)}}),z.tag=function(e,t,n,r,o){return W(r)&&(o=r,/^[\w\-]+\s?=/.test(n)?(r=n,n=""):r=""),n&&(W(n)?o=n:u.add(n)),e=e.toLowerCase(),S[e]={name:e,tmpl:t,attrs:r,fn:o},e},z.tag2=function(e,t,n,r,o){return n&&u.add(n),S[e]={name:e,tmpl:t,attrs:r,fn:o},e},z.mount=function(e,c,f){var t,n,l=[];function r(e){var t="";return Q(e,function(e){/[^-\w]/.test(e)||(e=e.trim().toLowerCase(),t+=",["+j+'="'+e+'"],['+N+'="'+e+'"]')}),t}function o(){var e=Object.keys(S);return e+r(e)}if(u.inject(),X(c)&&(f=c,c=0),t=typeof e===L?("*"===e?e=n=o():e+=r(e.split(/, */)),e?g(e):[]):e,"*"===c){if(c=n||o(),t.tagName)t=g(c,t);else{var i=[];Q(t,function(e){i.push(g(c,e))}),t=i}c=0}return function e(t){if(t.tagName){var n=ee(t,j)||ee(t,N);c&&n!==c&&(te(t,j,n=c),te(t,N,c));var r=(o=t,i=n||t.tagName.toLowerCase(),a=f,u=S[i],s=o._innerHTML=o._innerHTML||o.innerHTML,o.innerHTML="",u&&o&&(u=new U(u,{root:o,opts:a},s)),u&&u.mount&&(u.mount(),ae(C,u)||C.push(u)),u);r&&l.push(r)}else t.length&&Q(t,e);var o,i,a,u,s}(t),l},z.update=function(){return Q(C,function(e){e.update()})},z.vdom=C,z.Tag=U;var me=function(n){var r={};function i(e){var t=n[e];if(t)return t;throw new Error('Parser "'+e+'" not loaded.')}function a(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function o(e,t,n,r){return n=a({pretty:!0,filename:r,doctype:"html"},n),i(e).render(t,n)}return r.html={jade:function(e,t,n){return console.log('DEPRECATION WARNING: jade was renamed "pug" - The jade parser will be removed in riot@3.0.0!'),o("jade",e,t,n)},pug:function(e,t,n){return o("pug",e,t,n)}},r.css={less:function(e,t,n,r){var o;return n=a({sync:!0,syncImport:!0,filename:r},n),i("less").render(t,n,function(e,t){if(e)throw e;o=t.css}),o}},r.js={es6:function(e,t){return t=a({blacklist:["useStrict","strict","react"],sourceMaps:!1,comments:!1},t),i("babel").transform(e,t).code},babel:function(e,t,n){return i("babel").transform(e,a({filename:n},t)).code},buble:function(e,t,n){return t=a({source:n,modules:!1},t),i("buble").transform(e,t).code},coffee:function(e,t){return i("CoffeeScript").compile(e,a({bare:!0},t))},livescript:function(e,t){return i("livescript").compile(e,a({bare:!0,header:!1},t))},typescript:function(e,t){return i("typescript")(e,t)},none:function(e){return e}},r.js.javascript=r.js.none,r.js.coffeescript=r.js.coffee,r._req=function(e){var t=e.split(".");if(2!==t.length)throw new Error("Bad format for parsers._req");var n=r[t[0]][t[1]];if(n)return n;throw new Error('Parser "'+e+'" not found.')},r.utils={extend:a},r}(D||global);z.parsers=me;var x=function(){var S=me.utils.extend,e=/"[^"\n\\]*(?:\\[\S\s][^"\n\\]*)*"|'[^'\n\\]*(?:\\[\S\s][^'\n\\]*)*'/.source,t=K.R_STRINGS.source,s=/ *([-\w:\xA0-\xFF]+) ?(?:= ?('[^']*'|"[^"]*"|\S+))?/g,r=RegExp(/<!--(?!>)[\S\s]*?-->/.source+"|"+e,"g"),i=/<(-?[A-Za-z][-\w\xA0-\xFF]*)(?:\s+([^"'\/>]*(?:(?:"[^"]*"|'[^']*'|\/[^>])[^'"\/>]*)*)|\s*)(\/?)>/g,a=/>[ \t]+<(-?[A-Za-z]|\/[-A-Za-z])/g,c=RegExp("^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|selected|sortable|truespeed|typemustmatch)$"),f=["style","src","d"],u=/^(?:input|img|br|wbr|hr|area|base|col|embed|keygen|link|meta|param|source|track)$/,l=/<pre(?:\s+(?:[^">]*|"[^"]*")*)?>([\S\s]+?)<\/pre\s*>/gi,p=/^"(?:number|date(?:time)?|time|month|email|color)\b/i,E=/^\s*import(?:(?:\s|[^\s'"])*)['|"].*\n?/gm,N=/[ \t]+$/gm,d=ge(/@#\d/,"x01"),o=ge(/@#(\d+)/g,"x01"),g="#",m="⁗",h='"',j="'";function v(e){var t,n=r;for(~e.indexOf("\r")&&(e=e.replace(/\r\n?/g,"\n")),n.lastIndex=0;t=n.exec(e);)"<"===t[0][0]&&(e=RegExp.leftContext+RegExp.rightContext,n.lastIndex=t[3]+1);return e}function L(e,t){var n,r,o,i=[];for(s.lastIndex=0,e=e.replace(/\s+/g," ");n=s.exec(e);){var a=n[1].toLowerCase(),u=n[2];u?(u[0]!==h&&(u=h+(u[0]===j?u.slice(1,-1):u)+h),"type"===a&&p.test(u)?r=u:(d.test(u)&&("value"===a?o=1:c.test(a)?a="__"+a:~f.indexOf(a)&&(a="riot-"+a)),i.push(a+"="+u))):i.push(a)}return r&&(o&&(r=h+t._bp[0]+j+r.slice(1,-1)+j+t._bp[1]+h),i.push("type="+r)),i.join(" ")}function M(e,t,n){var r=n._bp;if(e&&r[4].test(e)){for(var o,i=t.expr&&(t.parser||t.type)?A:0,a=K.split(e,0,r),u=1;u<a.length;u+=2)"^"===(o=a[u])[0]?o=o.slice(1):i&&";"===(o=i(o,t).trim()).slice(-1)&&(o=o.slice(0,-1)),a[u]=g+(n.push(o)-1)+r[1];e=a.join("")}return e}function T(e,n){return n.length&&(e=e.replace(o,function(e,t){return n._bp[0]+n[t].trim().replace(/[\r\n]+/g," ").replace(/"/g,m)})),e}function R(e,t,o){if(!/\S/.test(e))return"";if(e=M(e,t,o).replace(i,function(e,t,n,r){return t=t.toLowerCase(),r=r&&!u.test(t)?"></"+t:"",n&&(t+=" "+L(n,o)),"<"+t+r+">"}),!t.whitespace){var n=[];/<pre[\s>]/.test(e)&&(e=e.replace(l,function(e){return n.push(e),""})),e=e.trim().replace(/\s+/g," "),n.length&&(e=e.replace(/\u0002/g,function(){return n.shift()}))}return t.compact&&(e=e.replace(a,"><$1")),T(e,o).replace(N,"")}var x=/^[ \t]*([$_A-Za-z][$\w]*)\s*\([^()]*\)\s*{/m,b=RegExp("[{}]|"+K.S_QBLOCKS,"g"),y=RegExp(K.R_MLCOMMS.source+"|//[^\r\n]*|"+K.S_QBLOCKS,"g");function w(e){var t,n,r,o,i=[],a=RegExp;for(~e.indexOf("/")&&(e=function(e,t,n){t.lastIndex=0;for(;n=t.exec(e);)"/"!==n[0][0]||n[1]||n[2]||(e=a.leftContext+" "+a.rightContext,t.lastIndex=n[3]+1);return e}(e,y));t=e.match(x);)i.push(a.leftContext),r=u(e=a.rightContext,b),o=t[1],o=(n=!/^(?:if|while|for|switch|catch|function)$/.test(o))?t[0].replace(o,"this."+o+" = function"):t[0],i.push(o,e.slice(0,r)),e=e.slice(r),n&&!/^\s*.\s*bind\b/.test(e)&&i.push(".bind(this)");return i.length?i.join("")+e:e;function u(e,t){var n,r=1;for(t.lastIndex=0;r&&(n=t.exec(e));)"{"===n[0]?++r:"}"===n[0]&&--r;return r?e.length:t.lastIndex}}function A(e,t,n,r,o){return/\S/.test(e)?(n||(n=t.type),(t.parser||n&&me._req("js."+n,!0)||w)(e,r,o).replace(/\r\n?/g,"\n").replace(N,"")):""}var _=RegExp("([{}]|^)[ ;]*([^@ ;{}][^{}]*)(?={)|"+e,"g");function I(e,t,n,r){var o,i,a=(r||(r={})).scoped;if(n)if("scoped-css"===n)a=!0;else if("css"!==n){e=me._req("css."+n,!0)(t,e,r.parserOpts||{},r.url)}if(e=e.replace(K.R_MLCOMMS,"").replace(/\s+/g," ").trim(),a){if(!t)throw new Error("Can not parse scoped CSS without a tagName");o=t,i=":scope",e=e.replace(_,function(e,t,n){return n?(n=n.replace(/[^,]+/g,function(e){var t=e.trim();return t&&"from"!==t&&"to"!==t&&"%"!==t.slice(-1)?t=t.indexOf(i)<0?o+" "+t+',[riot-tag="'+o+'"] '+t+',[data-is="'+o+'"] '+t:t.replace(i,o)+","+t.replace(i,'[riot-tag="'+o+'"]')+","+t.replace(i,'[data-is="'+o+'"]'):e}),t?t+" "+n:n):e})}return e}var n=/\stype\s*=\s*(?:(['"])(.+?)\1|(\S+))/i,C="\\s*=\\s*("+t+"|{[^}]+}|\\S+)",$=/\/>\n|^<(?:\/?-?[A-Za-z][-\w\xA0-\xFF]*\s*|-?[A-Za-z][-\w\xA0-\xFF]*\s+[-\w:\xA0-\xFF][\S\s]*?)>\n/;function k(e,t){return e?(e=j+e.replace(/\\/g,"\\\\").replace(/'/g,"\\'")+j,t&&~e.indexOf("\n")?e.replace(/\n/g,"\\n"):e):"''"}function F(e){if(e){var t=e.match(n);if(t=t&&(t[2]||t[3]))return t.replace("text/","")}return""}function P(e,t){if(e){var n=e.match(RegExp("\\s"+t+C,"i"));if(n=n&&n[1])return/^['"]/.test(n)?n.slice(1,-1):n}return""}function H(e){var t=P(e,"options").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#039;/g,"'");return t?JSON.parse(t):null}var D=RegExp(/^([ \t]*)<(-?[A-Za-z][-\w\xA0-\xFF]*)(?:\s+([^'"\/>]+(?:(?:@|\/[^>])[^'"\/>]*)*)|\s*)?(?:\/>|>[ \t]*\n?([\S\s]*)^\1<\/\2\s*>|>(.*)<\/\2\s*>)/.source.replace("@",t),"gim"),q=/<script(\s+[^>]*)?>\n?([\S\s]*?)<\/script\s*>/gi,B=/<style(\s+[^>]*)?>\n?([\S\s]*?)<\/style\s*>/gi;function O(e,y,w){var _,C=[];y||(y={}),y.parserOptions=S({template:{},js:{},style:{}},y.parserOptions||{}),_=y.exclude?function(e){return y.exclude.indexOf(e)<0}:function(){return 1},w||(w="");var t,n,r,o,O=K.array(y.brackets);return y.template&&(t=e,n=w,r=y.template,o=y.parserOptions.template,e=me._req("html."+r,!0)(t,o,n)),e=v(e).replace(D,function(e,t,f,n,r,o){var i,a,u,s,c,l,p,d,g="",m="",h="",v="",x=[];if(x._bp=O,f=f.toLowerCase(),n=n&&_("attribs")?T(L(M(n,y,x),x),x):"",(r||(r=o))&&/\S/.test(r))if(o)_("html")&&(h=R(o,y,x));else{var b=function(e){if(/<[-\w]/.test(e))for(var t,n=e.lastIndexOf("<"),r=e.length;~n;){if(t=e.slice(n,r).match($))return n+=t.index+t[0].length,"<-/>\n"===(t=e.slice(0,n)).slice(-5)&&(t=t.slice(0,-5)),[t,e.slice(n)];r=n,n=e.lastIndexOf("<",n-1)}return["",e]}((r=(r=(r=r.replace(RegExp("^"+t,"gm"),"")).replace(B,function(e,t,n){var r,o,i,a,u,s,c;return _("css")&&(m+=(m?" ":"")+(r=n,i=t,a=w,u=f,s=S({},(o=y).parserOptions.style),c={parserOpts:S(s,H(i)),scoped:i&&/\sscoped(\s|=|$)/i.test(i),url:a},I(r,u,F(i)||o.style,c))),""})).replace(q,function(e,t,n){if(_("js")){var r=(o=n,i=y,u=w,s=F(a=t),c=P(a,"src"),f=S({},i.parserOptions.js),!c&&A(o,i,s,S(f,H(a)),u));r&&(g+=(g?"\n":"")+r)}var o,i,a,u,s,c,f;return""})).replace(N,""));_("html")&&(h=R(b[0],y,x)),_("js")&&((r=A(b[1],y,null,null,w))&&(g+=(g?"\n":"")+r),g=g.replace(E,function(e){return v+=e.trim()+"\n",""}))}return g=/\S/.test(g)?g.replace(/\n{3,}/g,"\n\n"):"",y.entities?(C.push({tagName:f,html:h,css:m,attribs:n,js:g,imports:v}),""):(i=f,a=h,u=m,s=n,c=g,l=v,p=y.debug?",\n  ":", ",d="});",c&&"\n"!==c.slice(-1)&&(d="\n"+d),l+"riot.tag2('"+i+j+p+k(a,1)+p+k(u)+p+k(s)+", function(opts) {\n"+c+d)}),y.entities?C:e}return z.util.compiler={compile:O,html:function(e,t,n){return Array.isArray(t)?(n=t,t={}):(n||(n=[]),t||(t={})),n._bp=K.array(t.brackets),R(v(e),t,n)},css:function(e,t,n){return t&&"object"==typeof t?(n=t,t=""):n||(n={}),I(e,n.tagName,t,n)},js:function(e,t,n,r){return"string"==typeof t&&(r=n,n=t,t={}),n&&"object"==typeof n&&(r=n,n=""),r||(r={}),A(e,t||{},n,r.parserOptions,r.url)},version:"v2.5.7"},O}();z.compile=function(){var f,l;function p(e,t,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){4===r.readyState&&(200===r.status||!r.status&&r.responseText.length)&&t(r.responseText,n,e)},r.open("GET",e,!0),r.send("")}function d(e,t){if(typeof e===L){var n=pe("script"),r=document.documentElement;t&&(e+="\n//# sourceURL="+t+".js"),n.text=e,r.appendChild(n),r.removeChild(n)}}return function(e,o,t){if(typeof e===L){if(X(o)&&(t=o,o=!1),/^\s*</m.test(e)){var n=x(e,t);return!0!==o&&d(n),W(o)&&o(n,e,t),n}p(e,function(e,t,n){var r=x(e,t,n);d(r,n),o&&o(r,e,t)},t)}else{if(o=W(e)?(t=o,e):(t=e,w),l)return o&&o();f?o&&f.on("ready",o):(f=z.observable(),function(e,t){var n=g('script[type="riot/tag"]'),r=n.length;function o(){f.trigger("ready"),l=!0,e&&e()}function i(e,t,n){d(x(e,t,n),n),--r||o()}if(r)for(var a=0;a<n.length;++a){var u=n[a],s=ie({template:ee(u,"template")},t),c=ee(u,"src");c?p(c,i,s):i(u.innerHTML,s)}else o()}(o,t))}}}();var n=z.mount;z.mount=function(){var e,t=arguments;return z.compile(function(){e=n.apply(z,t)}),e},typeof exports===M?module.exports=z:typeof define===r&&typeof define.amd!==T?define(function(){return z}):D.riot=z}("undefined"!=typeof window?window:void 0);
